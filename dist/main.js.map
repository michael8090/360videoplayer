{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 9867324eece24d58868b","webpack:///./src/main.js","webpack:///./src/Mesh.js","webpack:///./src/math.js","webpack:///./src/player.js","webpack:///./~/.1.0.14@three-stereo-effect/index.js","webpack:///./~/.3.0.2@screenfull/dist/screenfull.js"],"names":["textureLoader","THREE","TextureLoader","AROUND_GAP","getGuideStartVec","u","v","p","uv2xyz","Vector3","x","y","z","normalize","multiplyScalar","setY","Arrow","currentMaterialIndex","PlaneGeometry","MeshPhongMaterial","map","materials","transparent","side","DoubleSide","rotateX","Math","PI","lastDrawTime","Date","now","length","material","needUpdate","alert","load","i","onArrowPathClick","unitLength","unitMaterial","unitMaterialLight","createArrowPath","sp","ep","spv","epvu","epv","pathVec","clone","sub","unitCount","ceil","group","Object3D","Mesh","up","add","position","set","onClick","currentHighLight","currentPercentage","setPercentage","update","children","floor","last","current","arrow","showArrow","scene","parent","hideArrow","remove","arrowPathName","showPath","path","name","setPathPercentage","percentage","getObjectByName","hidePath","module","exports","setupPlayer","playerConfig","player","document","body","addEventListener","Error","constructor","theta","phi","cos","sin","StereoEffect","require","fullscreen","domFromString","htmlString","createElement","innerHTML","firstElementChild","isWebGLSupported","canvas","window","WebGLRenderingContext","getContext","e","raycaster","Raycaster","mouse","Vector2","Player","containerId","enableSensorControl","isOnStereoMode","container","getElementById","w","offsetWidth","h","offsetHeight","camera","PerspectiveCamera","lookAt","Scene","createSphere","renderer","WebGLRenderer","CanvasRenderer","setSize","stereoEffect","eyeSeparation","sensorControls","DeviceOrientationController","domElement","connect","enableSensor","disableSensor","appendChild","animate","video","setTime","onResize","texture","VideoTexture","minFilter","LinearFilter","magFilter","format","RGBFormat","sphere","SphereGeometry","MeshBasicMaterial","BackSide","rotateY","enabled","request","videoUrl","setAttribute","duration","time","currentTime","play","pause","render","traverse","item","requestAnimationFrame","aspect","updateProjectionMatrix","event","clientX","width","clientY","height","setFromCamera","intersects","intersectObjects","some","obj","object","enableDeviceMove","enableStereoMode","disableStereoMode"],"mappings":"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EA,MAAK;AACL;;AAEA;AACA;;AAEA;AACA;AACA,IAAG;;AAEH;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;;AAGA;AACA;AACA;AACA;;;;;;;;;;;AC5JA;AACA;AACA;AACA,qBAAoB;AACpB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,SAAQ,OAAO;AACf;AACA;AACA,wCAAuC,eAAe;AACtD;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAE;;AAEF;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA,GAAE;AACF;AACA;AACA,EAAC","file":"dist/main.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"setupPlayer\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"setupPlayer\"] = factory();\n\telse\n\t\troot[\"setupPlayer\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 9867324eece24d58868b\n **/","/**\n * Created by yong on 8/27/16.\n */\nimport Mesh from './Mesh';\nimport math from './math';\nimport Player from './player';\n\nconst textureLoader = new THREE.TextureLoader();\n\nconst AROUND_GAP = 12;\n\nfunction getGuideStartVec(u, v) {\n    const p = math.uv2xyz(u, v);\n    return (new THREE.Vector3(p.x, p.y, p.z))\n        .normalize()\n        .multiplyScalar(AROUND_GAP)\n        .setY(p.y);\n}\n\nclass Arrow extends Mesh {\n    static materials = [1, 2, 3].map(i => textureLoader.load(`images/arr${i}.png`));\n\n    constructor() {\n        const currentMaterialIndex = 0;\n        super(\n            new THREE.PlaneGeometry(1.4, 2),\n            new THREE.MeshPhongMaterial({\n                map: Arrow.materials[currentMaterialIndex],\n                transparent: true,\n                side: THREE.DoubleSide\n            })\n            // new THREE.MeshBasicMaterial( {color: 0xffff00, side: THREE.DoubleSide} ),\n        );\n        this.currentMaterialIndex = currentMaterialIndex;\n        this.rotateX(Math.PI * 0.2);\n    }\n\n    update() {\n        if (this.lastDrawTime && Date.now() - this.lastDrawTime < 300) {\n            return;\n        }\n        this.lastDrawTime = Date.now();\n        this.currentMaterialIndex = (this.currentMaterialIndex + 1) % Arrow.materials.length;\n        this.material.map = Arrow.materials[this.currentMaterialIndex];\n        this.material.needUpdate = true;\n    }\n\n    onClick() {\n        alert('arrow clicked');\n    }\n}\n\nfunction onArrowPathClick() {\n    alert('arrow path is clicked');\n}\nconst unitLength = 2;\nconst unitMaterial = textureLoader.load('./images/path-arr.png');\nconst unitMaterialLight = textureLoader.load('./images/path-arr-light.png');\nfunction createArrowPath(u, v) {\n    const sp = getGuideStartVec(u, v);\n    const ep = math.uv2xyz(u, v);\n    const spv = new THREE.Vector3(sp.x, sp.y, sp.z);\n    const epvu = new THREE.Vector3(ep.x, ep.y, ep.z);\n    const epv = epvu.multiplyScalar(spv.y / epvu.y);\n    const pathVec = epv.clone().sub(spv);\n    const unitCount = Math.ceil(pathVec.length() / unitLength);\n    const group = new THREE.Object3D();\n    let i;\n    for (i = 0; i < unitCount; i++) {\n        const u = new THREE.Mesh(\n            new THREE.PlaneGeometry(unitLength * 2, unitLength),\n            new THREE.MeshPhongMaterial({\n                map: unitMaterial,\n                transparent: true,\n                side: THREE.DoubleSide\n            })\n        );\n        const up = pathVec.clone().multiplyScalar(i / unitCount).add(sp);\n        u.position.set(up.x, up.y, up.z);\n        u.up.set(pathVec.x, pathVec.y, pathVec.z);\n        u.onClick = onArrowPathClick;\n        group.add(u);\n    }\n    group.currentHighLight = 0;\n    group.currentPercentage = 0;\n\n    group.setPercentage = (p) => {\n        group.currentPercentage = p;\n    };\n\n    group.update = function () {\n        if (this.lastDrawTime && Date.now() - this.lastDrawTime < 300) {\n            return;\n        }\n        const {children} = this;\n        const i = Math.floor(this.currentPercentage * children.length);\n        if (i === this.currentHighLight) {\n            return;\n        }\n        const last = children[this.currentHighLight];\n        last.material.map = unitMaterial;\n        last.material.needUpdate = true;\n\n        this.currentHighLight = i;\n        const current = children[i];\n        current.material.map = unitMaterialLight;\n        current.material.needUpdate = true;\n\n        this.lastDrawTime = Date.now();\n    };\n\n    // this one never gets called\n    group.onClick = onArrowPathClick;\n\n    return group;\n}\n\nconst arrow = new Arrow();\n\nfunction showArrow(scene, u, v) {\n    const p = getGuideStartVec(u, v);\n    arrow.position.set(p.x, p.y, p.z);\n    arrow.up.set(p.x, 0, p.z);\n    if (!arrow.parent) {\n        scene.add(arrow);\n    }\n}\n\nfunction hideArrow(scene) {\n    if (arrow.parent) {\n        scene.remove(arrow);\n    }\n}\n\nconst arrowPathName = 'arrow-path';\nfunction showPath(scene, u, v) {\n    const path = createArrowPath(u, v);\n    path.name = arrowPathName;\n\n    scene.add(path);\n}\n\nfunction setPathPercentage(scene, percentage) {\n    const path = scene.getObjectByName(arrowPathName);\n    if (path) {\n        path.setPercentage(percentage);\n    }\n}\n\nfunction hidePath(scene) {\n    const path = scene.getObjectByName(arrowPathName);\n    if (path) {\n        scene.remove(path);\n    }\n}\n\nmodule.exports = function setupPlayer(playerConfig) {\n    const player = new Player(playerConfig);\n    const {scene} = player;\n    showArrow(scene, 0.5, 0.75);\n    showPath(scene, 0.5, 0.75);\n\n    let p = 0;\n    document.body.addEventListener('mousemove', function () {\n        p += 0.1;\n\n        if (p > 1) {\n            p = 0;\n        }\n\n        setPathPercentage(scene, p);\n    });\n    return player;\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/main.js\n **/","/**\n * Created by yong on 8/27/16.\n */\nexport default class Mesh extends THREE.Mesh {\n    update() {\n        throw new Error(`${this.constructor.name} should have an \"update\" method`);\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/Mesh.js\n **/","/**\n * Created by yong on 8/26/16.\n */\nexport  default {\n    uv2xyz(u, v){\n        var theta = Math.PI * u * 2.0;\n        var phi = v * Math.PI;\n        var x = -Math.cos(theta) * Math.sin(phi);\n        var z = -Math.sin(theta) * Math.sin(phi);\n        var y = Math.cos(phi);\n        // we just need to rotate x to 4pi/3\n        return {x: -z, y, z: x};\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/math.js\n **/","/* global THREE */\n// var OrbitControls = require('three-orbit-controls')(THREE);\nvar StereoEffect = require('three-stereo-effect')(THREE);\nvar fullscreen = require('screenfull');\n\nfunction domFromString(htmlString) {\n    const parent = document.createElement('div');\n    parent.innerHTML = htmlString;\n    return parent.firstElementChild;\n}\n\nconst isWebGLSupported = (function () {\n    try {\n        var canvas = document.createElement('canvas');\n        return !!(window.WebGLRenderingContext && (canvas.getContext('webgl') || canvas.getContext('experimental-webgl')));\n    } catch (e) {\n        return false;\n    }\n})();\n\nconst raycaster = new THREE.Raycaster();\nconst mouse = new THREE.Vector2();\n\n/**\n * The core player of the project, it has the following main tasks:\n *     1. load a video and apply the stream video output as a texture to a sphere\n *     2. provide the main controls of as a player(play, pause, setTime, etc.)\n *     3. has vr and stereo mode, with device sensor control enabled\n *     4. call the `update` method (if any) of the items inside the scene on every loop\n *     5. call onClick if hit test is passed\n */\n\nexport default class Player {\n    constructor({containerId, enableSensorControl = false, isOnStereoMode = false} = {}) {\n        this.isOnStereoMode = isOnStereoMode;\n        const container = document.getElementById(containerId);\n        if (!container) {\n            throw new Error(`container is not found: ${containerId}`);\n        }\n\n        this.container = container;\n\n        const w = container.offsetWidth;\n        const h = container.offsetHeight;\n        const camera = new THREE.PerspectiveCamera(75, w / h, 0.01, 1000);\n        camera.position.x = 0;\n        camera.position.y = 0;\n        camera.position.z = 0;\n        camera.lookAt(new THREE.Vector3(0, 0, 1));\n\n        this.camera = camera;\n\n        this.scene = new THREE.Scene();\n\n        this.createSphere();\n\n        const renderer = isWebGLSupported ? new THREE.WebGLRenderer() : new THREE.CanvasRenderer();\n        renderer.setSize(container.offsetWidth, container.offsetHeight);\n        this.renderer = renderer;\n\n        const stereoEffect = new StereoEffect(renderer);\n        stereoEffect.eyeSeparation = 1;\n        stereoEffect.setSize(w, h);\n        this.stereoEffect = stereoEffect;\n\n        this.sensorControls = new DeviceOrientationController(camera, renderer.domElement);\n        this.sensorControls.connect();\n\n        if (enableSensorControl) {\n            this.enableSensor();\n        } else {\n            this.disableSensor();\n        }\n\n        container.appendChild(renderer.domElement);\n\n        this.animate();\n\n        this.video.addEventListener('ended', () => this.setTime(0));\n        window.addEventListener('resize', this.onResize);\n        window.addEventListener('click', this.onClick);\n    }\n\n    render = () => {\n        this.scene.traverse(item => {\n            if (typeof item.update === 'function') {\n                item.update();\n            }\n        });\n        this.sensorControls.update();\n        if (this.isOnStereoMode) {\n            this.stereoEffect.render(this.scene, this.camera);\n        } else {\n            this.renderer.render(this.scene, this.camera);\n        }\n    };\n\n    animate = () => {\n        this.render();\n        requestAnimationFrame(this.animate);\n    };\n\n    createSphere() {\n        const video = domFromString(`\n            <video style=\"display: none;\" loop preload=\"auto\" id=\"video\" webkit-playsinline crossOrigin=\"anonymous\">\n                <source type=\"video/mp4\">\n            </video>\n        `);\n        this.video = video;\n        document.body.appendChild(video);\n\n        const texture = new THREE.VideoTexture(video);\n        texture.minFilter = THREE.LinearFilter;\n        texture.magFilter = THREE.LinearFilter;\n        texture.format = THREE.RGBFormat;\n\n        const sphere = new THREE.Mesh(\n            new THREE.SphereGeometry(100, 80, 80),\n            new THREE.MeshBasicMaterial({\n                map: texture,\n                // map: (new THREE.TextureLoader()).load('./p.jpg'),\n                side: THREE.BackSide\n            })\n        );\n\n        sphere.rotateY(-Math.PI * 0.5);\n\n        this.scene.add(sphere);\n    }\n\n    onResize = () => {\n        const {container: {offsetWidth: w, offsetHeight: h}} = this;\n        this.camera.aspect = w / h;\n        this.camera.updateProjectionMatrix();\n\n        this.renderer.setSize(w, h);\n        this.stereoEffect.setSize(w, h);\n    };\n\n    onClick = (e) => {\n        const {container: {offsetWidth: w, offsetHeight: h}, renderer, camera} = this;\n\n        mouse.x = ( event.clientX / renderer.domElement.width ) * 2 - 1;\n        mouse.y = -( event.clientY / renderer.domElement.height ) * 2 + 1;\n\n        raycaster.setFromCamera(mouse, camera);\n\n        const intersects = raycaster.intersectObjects(this.scene.children, true);\n        intersects.some(i => {\n            const obj = i.object;\n            if (typeof obj.onClick === 'function') {\n                obj.onClick(e);\n                return true;\n            }\n        });\n    };\n\n    enableSensor = () => {\n        this.sensorControls.enableDeviceMove = true;\n    };\n\n    disableSensor = () => {\n        this.sensorControls.enableDeviceMove = false;\n    };\n\n    enableStereoMode = () => this.isOnStereoMode = true;\n\n    disableStereoMode = () => this.isOnStereoMode = false;\n\n    // we need to call inside an user action handler\n    enterFullScreen() {\n        if (fullscreen.enabled) {\n            fullscreen.request();\n        }\n    }\n\n    loadVideo(videoUrl = '') {\n        this.video.firstElementChild.setAttribute('src', videoUrl);\n    };\n\n    getDuration() {\n        return this.video.duration;\n    }\n\n    setTime(time) {\n        this.video.currentTime = time;\n    }\n\n    play() {\n        this.video.play();\n    }\n\n    pause() {\n        this.video.pause();\n    }\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/player.js\n **/","/**\n * @author alteredq / http://alteredqualia.com/\n * @authod mrdoob / http://mrdoob.com/\n * @authod arodic / http://aleksandarrodic.com/\n * @authod fonserbc / http://fonserbc.github.io/\n * @authod samsy / http://samsy.ninja/\n *\n * Off-axis stereoscopic effect based on http://paulbourke.net/stereographics/stereorender/\n */\n\n\nmodule.exports = function(THREE, renderer) {\n\n\tfunction StereoEffect(renderer){\n\n\n\t\tvar scope = this;\n\n\t\tthis.eyeSeparation = 3;\n\t\tthis.focalLength = 15; \t// Distance to the non-parallax or projection plane\n\n\t\tObject.defineProperties( this, {\n\t\t\tseparation: {\n\t\t\t\tget: function () {\n\n\t\t\t\t\treturn scope.eyeSeparation;\n\n\t\t\t\t},\n\t\t\t\tset: function ( value ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.StereoEffect: .separation is now .eyeSeparation.' );\n\t\t\t\t\tscope.eyeSeparation = value;\n\n\t\t\t\t}\n\t\t\t},\n\t\t\ttargetDistance: {\n\t\t\t\tget: function () {\n\n\t\t\t\t\treturn scope.focalLength;\n\n\t\t\t\t},\n\t\t\t\tset: function ( value ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.StereoEffect: .targetDistance is now .focalLength.' );\n\t\t\t\t\tscope.focalLength = value;\n\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\n\t\t// internals\n\n\t\tvar _width, _height;\n\n\t\tvar _position = new THREE.Vector3();\n\t\tvar _quaternion = new THREE.Quaternion();\n\t\tvar _scale = new THREE.Vector3();\n\n\t\tvar _cameraL = new THREE.PerspectiveCamera();\n\t\tvar _cameraR = new THREE.PerspectiveCamera();\n\n\t\tvar _fov;\n\t\tvar _outer, _inner, _top, _bottom;\n\t\tvar _ndfl, _halfFocalWidth, _halfFocalHeight;\n\t\tvar _innerFactor, _outerFactor;\n\n\t\t// initialization\n\n\t\trenderer.autoClear = false;\n\n\t\tthis.setSize = function ( width, height ) {\n\n\t\t\t_width = width / 2;\n\t\t\t_height = height;\n\n\t\t\trenderer.setSize( width, height );\n\n\t\t};\n\n\t\tthis.render = function ( scene, camera ) {\n\n\t\t\tscene.updateMatrixWorld();\n\n\t\t\tif ( camera.parent === null ) camera.updateMatrixWorld();\n\n\t\t\tcamera.matrixWorld.decompose( _position, _quaternion, _scale );\n\n\t\t\t// Effective fov of the camera\n\n\t\t\t_fov = THREE.Math.radToDeg( 2 * Math.atan( Math.tan( THREE.Math.degToRad( camera.fov ) * 0.5 ) / camera.zoom ) );\n\n\t\t\t_ndfl = camera.near / this.focalLength;\n\t\t\t_halfFocalHeight = Math.tan( THREE.Math.degToRad( _fov ) * 0.5 ) * this.focalLength;\n\t\t\t_halfFocalWidth = _halfFocalHeight * 0.5 * camera.aspect;\n\n\t\t\t_top = _halfFocalHeight * _ndfl;\n\t\t\t_bottom = - _top;\n\t\t\t_innerFactor = ( _halfFocalWidth + this.eyeSeparation / 2.0 ) / ( _halfFocalWidth * 2.0 );\n\t\t\t_outerFactor = 1.0 - _innerFactor;\n\n\t\t\t_outer = _halfFocalWidth * 2.0 * _ndfl * _outerFactor;\n\t\t\t_inner = _halfFocalWidth * 2.0 * _ndfl * _innerFactor;\n\n\t\t\t// left\n\n\t\t\t_cameraL.projectionMatrix.makeFrustum(\n\t\t\t\t- _outer,\n\t\t\t\t_inner,\n\t\t\t\t_bottom,\n\t\t\t\t_top,\n\t\t\t\tcamera.near,\n\t\t\t\tcamera.far\n\t\t\t);\n\n\t\t\t_cameraL.position.copy( _position );\n\t\t\t_cameraL.quaternion.copy( _quaternion );\n\t\t\t_cameraL.translateX( - this.eyeSeparation / 2.0 );\n\n\t\t\t// right\n\n\t\t\t_cameraR.projectionMatrix.makeFrustum(\n\t\t\t\t- _inner,\n\t\t\t\t_outer,\n\t\t\t\t_bottom,\n\t\t\t\t_top,\n\t\t\t\tcamera.near,\n\t\t\t\tcamera.far\n\t\t\t);\n\n\t\t\t_cameraR.position.copy( _position );\n\t\t\t_cameraR.quaternion.copy( _quaternion );\n\t\t\t_cameraR.translateX( this.eyeSeparation / 2.0 );\n\n\t\t\t//\n\n\t\t\trenderer.clear();\n\t\t\trenderer.setScissorTest( true );\n\n\t\t\trenderer.setScissor( 0, 0, _width, _height );\n\t\t\trenderer.setViewport( 0, 0, _width, _height );\n\t\t\trenderer.render( scene, _cameraL );\n\n\t\t\trenderer.setScissor( _width, 0, _width, _height );\n\t\t\trenderer.setViewport( _width, 0, _width, _height );\n\t\t\trenderer.render( scene, _cameraR );\n\n\t\t\trenderer.setScissorTest( false );\n\n\t\t};\n\n\t}\n\n\n\t\tStereoEffect.prototype = Object.create( THREE.EventDispatcher.prototype );\n\t\tStereoEffect.prototype.constructor = StereoEffect;\n\t\treturn StereoEffect;\n};\n\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/.1.0.14@three-stereo-effect/index.js\n ** module id = 4\n ** module chunks = 0\n **/","/*!\n* screenfull\n* v3.0.0 - 2015-11-24\n* (c) Sindre Sorhus; MIT License\n*/\n(function () {\n\t'use strict';\n\n\tvar isCommonjs = typeof module !== 'undefined' && module.exports;\n\tvar keyboardAllowed = typeof Element !== 'undefined' && 'ALLOW_KEYBOARD_INPUT' in Element;\n\n\tvar fn = (function () {\n\t\tvar val;\n\t\tvar valLength;\n\n\t\tvar fnMap = [\n\t\t\t[\n\t\t\t\t'requestFullscreen',\n\t\t\t\t'exitFullscreen',\n\t\t\t\t'fullscreenElement',\n\t\t\t\t'fullscreenEnabled',\n\t\t\t\t'fullscreenchange',\n\t\t\t\t'fullscreenerror'\n\t\t\t],\n\t\t\t// new WebKit\n\t\t\t[\n\t\t\t\t'webkitRequestFullscreen',\n\t\t\t\t'webkitExitFullscreen',\n\t\t\t\t'webkitFullscreenElement',\n\t\t\t\t'webkitFullscreenEnabled',\n\t\t\t\t'webkitfullscreenchange',\n\t\t\t\t'webkitfullscreenerror'\n\n\t\t\t],\n\t\t\t// old WebKit (Safari 5.1)\n\t\t\t[\n\t\t\t\t'webkitRequestFullScreen',\n\t\t\t\t'webkitCancelFullScreen',\n\t\t\t\t'webkitCurrentFullScreenElement',\n\t\t\t\t'webkitCancelFullScreen',\n\t\t\t\t'webkitfullscreenchange',\n\t\t\t\t'webkitfullscreenerror'\n\n\t\t\t],\n\t\t\t[\n\t\t\t\t'mozRequestFullScreen',\n\t\t\t\t'mozCancelFullScreen',\n\t\t\t\t'mozFullScreenElement',\n\t\t\t\t'mozFullScreenEnabled',\n\t\t\t\t'mozfullscreenchange',\n\t\t\t\t'mozfullscreenerror'\n\t\t\t],\n\t\t\t[\n\t\t\t\t'msRequestFullscreen',\n\t\t\t\t'msExitFullscreen',\n\t\t\t\t'msFullscreenElement',\n\t\t\t\t'msFullscreenEnabled',\n\t\t\t\t'MSFullscreenChange',\n\t\t\t\t'MSFullscreenError'\n\t\t\t]\n\t\t];\n\n\t\tvar i = 0;\n\t\tvar l = fnMap.length;\n\t\tvar ret = {};\n\n\t\tfor (; i < l; i++) {\n\t\t\tval = fnMap[i];\n\t\t\tif (val && val[1] in document) {\n\t\t\t\tfor (i = 0, valLength = val.length; i < valLength; i++) {\n\t\t\t\t\tret[fnMap[0][i]] = val[i];\n\t\t\t\t}\n\t\t\t\treturn ret;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t})();\n\n\tvar screenfull = {\n\t\trequest: function (elem) {\n\t\t\tvar request = fn.requestFullscreen;\n\n\t\t\telem = elem || document.documentElement;\n\n\t\t\t// Work around Safari 5.1 bug: reports support for\n\t\t\t// keyboard in fullscreen even though it doesn't.\n\t\t\t// Browser sniffing, since the alternative with\n\t\t\t// setTimeout is even worse.\n\t\t\tif (/5\\.1[\\.\\d]* Safari/.test(navigator.userAgent)) {\n\t\t\t\telem[request]();\n\t\t\t} else {\n\t\t\t\telem[request](keyboardAllowed && Element.ALLOW_KEYBOARD_INPUT);\n\t\t\t}\n\t\t},\n\t\texit: function () {\n\t\t\tdocument[fn.exitFullscreen]();\n\t\t},\n\t\ttoggle: function (elem) {\n\t\t\tif (this.isFullscreen) {\n\t\t\t\tthis.exit();\n\t\t\t} else {\n\t\t\t\tthis.request(elem);\n\t\t\t}\n\t\t},\n\t\traw: fn\n\t};\n\n\tif (!fn) {\n\t\tif (isCommonjs) {\n\t\t\tmodule.exports = false;\n\t\t} else {\n\t\t\twindow.screenfull = false;\n\t\t}\n\n\t\treturn;\n\t}\n\n\tObject.defineProperties(screenfull, {\n\t\tisFullscreen: {\n\t\t\tget: function () {\n\t\t\t\treturn Boolean(document[fn.fullscreenElement]);\n\t\t\t}\n\t\t},\n\t\telement: {\n\t\t\tenumerable: true,\n\t\t\tget: function () {\n\t\t\t\treturn document[fn.fullscreenElement];\n\t\t\t}\n\t\t},\n\t\tenabled: {\n\t\t\tenumerable: true,\n\t\t\tget: function () {\n\t\t\t\t// Coerce to boolean in case of old WebKit\n\t\t\t\treturn Boolean(document[fn.fullscreenEnabled]);\n\t\t\t}\n\t\t}\n\t});\n\n\tif (isCommonjs) {\n\t\tmodule.exports = screenfull;\n\t} else {\n\t\twindow.screenfull = screenfull;\n\t}\n})();\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/.3.0.2@screenfull/dist/screenfull.js\n ** module id = 5\n ** module chunks = 0\n **/"],"sourceRoot":""}